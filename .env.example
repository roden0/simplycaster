# SimplyCaster Environment Configuration

# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/simplycaster

# Security Configuration
JWT_SECRET=your-super-secret-jwt-key-here-change-this-in-production
PASSWORD_PEPPER=your-password-pepper-here-change-this-in-production

# Application Configuration
BASE_URL=http://localhost:8000
NODE_ENV=development
PORT=8000

# Optional: Logging Configuration
LOG_LEVEL=info

# Optional: File Storage Configuration
STORAGE_PATH=./storage
MAX_FILE_SIZE=100MB

# Optional: Email Configuration (for invitations)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASS=your-email-password
# FROM_EMAIL=noreply@your-domain.com

# Email Queue Configuration (for async email processing)
EMAIL_QUEUE_ENABLED=true
EMAIL_QUEUE_CONCURRENCY=5
EMAIL_MAX_RETRY_ATTEMPTS=3
EMAIL_RETRY_DELAY=5000
EMAIL_MAX_RETRY_DELAY=300000
EMAIL_BACKOFF_MULTIPLIER=2.0
EMAIL_MESSAGE_TTL=86400000
EMAIL_MAX_QUEUE_LENGTH=10000
EMAIL_DEAD_LETTER_TTL=2592000000

# Optional: Redis Configuration (for caching)
# REDIS_URL=redis://localhost:6379

# RabbitMQ Configuration (for domain events)
RABBITMQ_URL=amqp://localhost:5672
RABBITMQ_EXCHANGE=simplycast.events
RABBITMQ_VHOST=/

# RabbitMQ Connection Pool
RABBITMQ_POOL_SIZE=10
RABBITMQ_CONNECTION_TIMEOUT=30000
RABBITMQ_HEARTBEAT=60

# RabbitMQ Reconnection
RABBITMQ_RECONNECT_ATTEMPTS=5
RABBITMQ_RECONNECT_DELAY=1000
RABBITMQ_MAX_RECONNECT_DELAY=30000

# RabbitMQ Publishing Options
RABBITMQ_CONFIRM_TIMEOUT=5000
RABBITMQ_MANDATORY=true
RABBITMQ_PERSISTENT=true
RABBITMQ_MESSAGE_TTL=86400000
RABBITMQ_DEFAULT_PRIORITY=0

# RabbitMQ Circuit Breaker
RABBITMQ_FAILURE_THRESHOLD=5
RABBITMQ_RESET_TIMEOUT=60000
RABBITMQ_MONITORING_WINDOW=60000
RABBITMQ_EXPECTED_FAILURE_RATE=0.1

# RabbitMQ Retry Configuration
RABBITMQ_MAX_RETRIES=3
RABBITMQ_RETRY_DELAY=1000
RABBITMQ_MAX_RETRY_DELAY=30000
RABBITMQ_BACKOFF_MULTIPLIER=2.0
RABBITMQ_RETRYABLE_ERRORS=ECONNRESET,ENOTFOUND,ETIMEDOUT,ECONNREFUSED

# RabbitMQ Queue Configuration
RABBITMQ_MAX_QUEUE_LENGTH=10000
RABBITMQ_DLX_EXCHANGE=simplycast.dlx

# Optional: Monitoring Configuration
# SENTRY_DSN=your-sentry-dsn-here

# OpenTelemetry Configuration
OTEL_DENO=true
OTEL_SERVICE_NAME=simplycast
OTEL_SERVICE_VERSION=1.0.0
OTEL_ENVIRONMENT=development
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf

# OpenTelemetry Sampling Configuration
OTEL_TRACES_SAMPLER=traceidratio
OTEL_TRACES_SAMPLER_ARG=1.0
OTEL_METRICS_EXEMPLAR_FILTER=trace_based

# OpenTelemetry Resource Attributes
OTEL_RESOURCE_ATTRIBUTES=service.name=simplycast,service.version=1.0.0,deployment.environment=development

# OTEL-LGTM Stack Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
LOKI_RETENTION_PERIOD=24h
TEMPO_RETENTION_PERIOD=24h
MIMIR_RETENTION_PERIOD=168h

# Coturn ICE Server Configuration
COTURN_SECRET=your-coturn-shared-secret-change-in-production
COTURN_REALM=simplycast.local
COTURN_EXTERNAL_IP=
COTURN_LOG_LEVEL=3
COTURN_MIN_PORT=49152
COTURN_MAX_PORT=49252

# Coturn Host Configuration (for client-side ICE server configuration)
COTURN_HOST=localhost
COTURN_PORT=3478
COTURN_TURNS_PORT=5349